# ğŸ“§ é‚®ç®±ç®¡ç†å¹³å° (Email Admin)

<p align="center">
  <img src="https://img.shields.io/badge/Vue-3.5-4FC08D?style=flat-square&logo=vue.js" alt="Vue 3.5">
  <img src="https://img.shields.io/badge/TypeScript-5.9-3178C6?style=flat-square&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/FastAPI-0.109-009688?style=flat-square&logo=fastapi" alt="FastAPI">
  <img src="https://img.shields.io/badge/Python-3.10+-3776AB?style=flat-square&logo=python" alt="Python">
  <img src="https://img.shields.io/badge/License-MIT-yellow?style=flat-square" alt="License">
</p>

<p align="center">
  ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„å¤šè´¦æˆ·é‚®ç®±ç®¡ç†å¹³å°ï¼Œæ”¯æŒ Webã€Android å’Œ iOS å¤šå¹³å°éƒ¨ç½²ã€‚
</p>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½ | æè¿° |
|------|------|
| ğŸ“§ **å¤šè´¦æˆ·ç®¡ç†** | æ”¯æŒæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å¤šä¸ªé‚®ç®±è´¦æˆ· |
| ğŸŒ **å¤šå¹³å°æ”¯æŒ** | Gmailã€Outlookã€QQé‚®ç®±ã€163é‚®ç®±ã€Yahooé‚®ç®±ç­‰ |
| ğŸ“± **è·¨å¹³å°éƒ¨ç½²** | Webã€Androidã€iOS å…¨å¹³å°è¦†ç›– |
| ğŸ”’ **å®‰å…¨å­˜å‚¨** | é‚®ç®±å‡­æ® AES åŠ å¯†å­˜å‚¨ |
| ğŸ“¬ **é‚®ä»¶ç®¡ç†** | æ”¶ä»¶ç®±æµè§ˆã€é‚®ä»¶è¯¦æƒ…ã€å·²è¯»/æœªè¯»ã€æ˜Ÿæ ‡ç®¡ç† |
| ğŸ”„ **é‚®ä»¶åŒæ­¥** | è‡ªåŠ¨/æ‰‹åŠ¨åŒæ­¥é‚®ä»¶ |
| ğŸ”‘ **Token ç®¡ç†** | API Token ç”Ÿæˆä¸ç®¡ç† |
| ğŸ“Š **æ•°æ®ç»Ÿè®¡** | é‚®ä»¶æ•°é‡ã€è´¦æˆ·çŠ¶æ€ç­‰ç»Ÿè®¡ä¿¡æ¯ |
| ğŸ“ **è®¿é—®æ—¥å¿—** | å®Œæ•´çš„ API è®¿é—®æ—¥å¿—è®°å½• |
| ğŸŒ™ **å“åº”å¼è®¾è®¡** | é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| [Vue 3](https://vuejs.org/) | 3.5.x | æ¸è¿›å¼ JavaScript æ¡†æ¶ |
| [TypeScript](https://www.typescriptlang.org/) | 5.9.x | ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›† |
| [Vite](https://vitejs.dev/) | 7.x | ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…· |
| [Element Plus](https://element-plus.org/) | 2.13.x | Vue 3 ç»„ä»¶åº“ |
| [Pinia](https://pinia.vuejs.org/) | 3.x | Vue çŠ¶æ€ç®¡ç† |
| [Vue Router](https://router.vuejs.org/) | 4.x | Vue è·¯ç”±ç®¡ç† |
| [Capacitor](https://capacitorjs.com/) | 8.x | è·¨å¹³å°åŸç”Ÿè¿è¡Œæ—¶ |
| [Axios](https://axios-http.com/) | 1.x | HTTP å®¢æˆ·ç«¯ |

### åç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| [FastAPI](https://fastapi.tiangolo.com/) | 0.109.x | ç°ä»£ã€å¿«é€Ÿçš„ Python Web æ¡†æ¶ |
| [Tortoise ORM](https://tortoise.github.io/) | 0.19.x | å¼‚æ­¥ ORM æ¡†æ¶ |
| [Pydantic](https://docs.pydantic.dev/) | 2.5.x | æ•°æ®éªŒè¯åº“ |
| [IMAPClient](https://imapclient.readthedocs.io/) | 3.x | IMAP å®¢æˆ·ç«¯åº“ |
| [Loguru](https://loguru.readthedocs.io/) | 0.7.x | æ—¥å¿—è®°å½•åº“ |
| [Cryptography](https://cryptography.io/) | 41.x | åŠ å¯†åº“ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
emailAdmin/
â”œâ”€â”€ ğŸ“‚ frontend/                  # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ api/              # API æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ account.ts       # è´¦æˆ· API
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts          # è®¤è¯ API
â”‚   â”‚   â”‚   â”œâ”€â”€ email.ts         # é‚®ä»¶ API
â”‚   â”‚   â”‚   â”œâ”€â”€ logs.ts          # æ—¥å¿— API
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.ts         # ç»Ÿè®¡ API
â”‚   â”‚   â”‚   â””â”€â”€ token.ts         # Token API
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ styles/           # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ types/            # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ğŸ“‚ views/            # é¡µé¢è§†å›¾
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ account/      # è´¦æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ auth/         # è®¤è¯é¡µé¢
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ dashboard/    # ä»ªè¡¨ç›˜
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ docs/         # API æ–‡æ¡£
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ email/        # é‚®ä»¶ç®¡ç†é¡µé¢
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ logs/         # æ—¥å¿—é¡µé¢
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ settings/     # è®¾ç½®é¡µé¢
â”‚   â”‚       â”œâ”€â”€ ğŸ“‚ tokens/       # Token ç®¡ç†
â”‚   â”‚       â””â”€â”€ ğŸ“‚ users/        # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ capacitor.config.ts      # Capacitor é…ç½®
â”‚   â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ğŸ“‚ backend/                   # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ ğŸ“‚ app/
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ api/              # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ accounts.py      # è´¦æˆ·æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py          # è®¤è¯æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ emails.py        # é‚®ä»¶æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ logs.py          # æ—¥å¿—æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ open.py          # å¼€æ”¾æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.py         # ç»Ÿè®¡æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ tokens.py        # Token æ¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ models/           # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ account.py       # è´¦æˆ·æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ email.py         # é‚®ä»¶æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ token.py         # Token æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ user.py          # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py          # è®¤è¯å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ crypto.py        # åŠ å¯†å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ email_service.py # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ database.py          # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ logger.py            # æ—¥å¿—é…ç½®
â”‚   â”‚   â””â”€â”€ schemas.py           # Pydantic æ¨¡å‹
â”‚   â”œâ”€â”€ main.py                  # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ requirements.txt         # Python ä¾èµ–
â”‚   â””â”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚
â”œâ”€â”€ .gitignore                   # Git å¿½ç•¥é…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

| ç¯å¢ƒ | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|
| Node.js | >= 18.0 |
| Python | >= 3.10 |
| npm / yarn / pnpm | æœ€æ–°ç‰ˆæœ¬ |

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/emailAdmin.git
cd emailAdmin
```

### 2ï¸âƒ£ åç«¯é…ç½®ä¸å¯åŠ¨

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®åŠ å¯†å¯†é’¥
# ç”ŸæˆåŠ å¯†å¯†é’¥å‘½ä»¤:
python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"

# å¯åŠ¨æœåŠ¡å™¨
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

åç«¯æœåŠ¡åœ°å€:
- API æœåŠ¡: http://localhost:8000
- Swagger æ–‡æ¡£: http://localhost:8000/docs
- ReDoc æ–‡æ¡£: http://localhost:8000/redoc

### 3ï¸âƒ£ å‰ç«¯é…ç½®ä¸å¯åŠ¨

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

å‰ç«¯æœåŠ¡åœ°å€: http://localhost:3000

### 4ï¸âƒ£ é»˜è®¤è´¦æˆ·

é¦–æ¬¡å¯åŠ¨åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼š

| ç”¨æˆ·å | å¯†ç  |
|--------|------|
| admin | admin123 |

> âš ï¸ **å®‰å…¨æç¤º**: è¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

## ğŸ“¦ æ‰“åŒ…éƒ¨ç½²

### Web éƒ¨ç½²

```bash
cd frontend

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æ„å»ºäº§ç‰©åœ¨ dist ç›®å½•
```

ä½¿ç”¨ Nginx éƒ¨ç½²ç¤ºä¾‹é…ç½®ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    root /path/to/frontend/dist;
    index index.html;
    
    # å‰ç«¯è·¯ç”±æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # API ä»£ç†
    location /api {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### Android æ‰“åŒ…

```bash
cd frontend

# æ„å»ºå¹¶åŒæ­¥
npm run build:android

# æˆ–åˆ†æ­¥æ‰§è¡Œ
npm run build
npx cap add android
npx cap sync android
npx cap open android
```

### iOS æ‰“åŒ…

```bash
cd frontend

# æ„å»ºå¹¶åŒæ­¥
npm run build:ios

# æˆ–åˆ†æ­¥æ‰§è¡Œ
npm run build
npx cap add ios
npx cap sync ios
npx cap open ios
```

## ğŸ“§ é‚®ç®±é…ç½®è¯´æ˜

### Gmail
| åè®® | æœåŠ¡å™¨ | ç«¯å£ | åŠ å¯† |
|------|--------|------|------|
| IMAP | imap.gmail.com | 993 | SSL |
| SMTP | smtp.gmail.com | 587 | TLS |

> éœ€è¦å¼€å¯"ä¸¤æ­¥éªŒè¯"å¹¶ä½¿ç”¨[åº”ç”¨ä¸“ç”¨å¯†ç ](https://myaccount.google.com/apppasswords)

### Outlook / Office 365
| åè®® | æœåŠ¡å™¨ | ç«¯å£ | åŠ å¯† |
|------|--------|------|------|
| IMAP | outlook.office365.com | 993 | SSL |
| SMTP | smtp.office365.com | 587 | TLS |

### QQ é‚®ç®±
| åè®® | æœåŠ¡å™¨ | ç«¯å£ | åŠ å¯† |
|------|--------|------|------|
| IMAP | imap.qq.com | 993 | SSL |
| SMTP | smtp.qq.com | 587 | TLS |

> éœ€è¦åœ¨ QQ é‚®ç®±è®¾ç½®ä¸­å¼€å¯ IMAP æœåŠ¡å¹¶è·å–[æˆæƒç ](https://service.mail.qq.com/cgi-bin/help?subtype=1&&id=28&&no=1001256)

### 163 é‚®ç®±
| åè®® | æœåŠ¡å™¨ | ç«¯å£ | åŠ å¯† |
|------|--------|------|------|
| IMAP | imap.163.com | 993 | SSL |
| SMTP | smtp.163.com | 465 | SSL |

> éœ€è¦åœ¨ 163 é‚®ç®±è®¾ç½®ä¸­å¼€å¯ IMAP æœåŠ¡å¹¶è·å–æˆæƒç 

### Yahoo é‚®ç®±
| åè®® | æœåŠ¡å™¨ | ç«¯å£ | åŠ å¯† |
|------|--------|------|------|
| IMAP | imap.mail.yahoo.com | 993 | SSL |
| SMTP | smtp.mail.yahoo.com | 587 | TLS |

## ğŸ”Œ API æ¥å£

### è®¤è¯æ¥å£
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | `/api/auth/login` | ç”¨æˆ·ç™»å½• |
| POST | `/api/auth/logout` | ç”¨æˆ·ç™»å‡º |
| GET | `/api/auth/me` | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ |

### è´¦æˆ·ç®¡ç†
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/accounts` | è·å–æ‰€æœ‰è´¦æˆ· |
| POST | `/api/accounts` | åˆ›å»ºè´¦æˆ· |
| GET | `/api/accounts/:id` | è·å–è´¦æˆ·è¯¦æƒ… |
| PUT | `/api/accounts/:id` | æ›´æ–°è´¦æˆ· |
| DELETE | `/api/accounts/:id` | åˆ é™¤è´¦æˆ· |
| POST | `/api/accounts/test-connection` | æµ‹è¯•è¿æ¥ |
| POST | `/api/accounts/:id/sync` | åŒæ­¥é‚®ä»¶ |

### é‚®ä»¶ç®¡ç†
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/emails` | è·å–é‚®ä»¶åˆ—è¡¨ |
| GET | `/api/emails/:id` | è·å–é‚®ä»¶è¯¦æƒ… |
| PATCH | `/api/emails/:id/read` | æ ‡è®°å·²è¯»/æœªè¯» |
| PATCH | `/api/emails/:id/starred` | æ ‡è®°æ˜Ÿæ ‡ |
| DELETE | `/api/emails/:id` | åˆ é™¤é‚®ä»¶ |
| POST | `/api/emails/refresh` | åˆ·æ–°é‚®ä»¶ |

### Token ç®¡ç†
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/tokens` | è·å–æ‰€æœ‰ Token |
| POST | `/api/tokens` | åˆ›å»º Token |
| DELETE | `/api/tokens/:id` | åˆ é™¤ Token |

### ç»Ÿè®¡æ¥å£
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/stats/overview` | è·å–æ¦‚è§ˆç»Ÿè®¡ |
| GET | `/api/stats/emails` | è·å–é‚®ä»¶ç»Ÿè®¡ |

### æ—¥å¿—æ¥å£
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/logs` | è·å–è®¿é—®æ—¥å¿— |

### å¼€æ”¾æ¥å£ (éœ€è¦ Token è®¤è¯)
| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | `/api/open/emails` | è·å–é‚®ä»¶åˆ—è¡¨ |
| GET | `/api/open/emails/:id` | è·å–é‚®ä»¶è¯¦æƒ… |

## ğŸ” å®‰å…¨è¯´æ˜

1. **å¯†ç åŠ å¯†**: æ‰€æœ‰é‚®ç®±å¯†ç ä½¿ç”¨ AES-256 åŠ å¯†å­˜å‚¨
2. **JWT è®¤è¯**: API ä½¿ç”¨ JWT Token è¿›è¡Œèº«ä»½éªŒè¯
3. **ç¯å¢ƒå˜é‡**: æ•æ„Ÿé…ç½®é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†ï¼Œä¸æäº¤åˆ°ä»£ç ä»“åº“
4. **HTTPS**: ç”Ÿäº§ç¯å¢ƒå»ºè®®å¯ç”¨ HTTPS
5. **è®¿é—®æ—¥å¿—**: å®Œæ•´è®°å½• API è®¿é—®æ—¥å¿—ï¼Œä¾¿äºå®‰å…¨å®¡è®¡

## ğŸ“‹ å¼€å‘è®¡åˆ’

- [x] å¤šè´¦æˆ·é‚®ç®±ç®¡ç†
- [x] é‚®ä»¶æ”¶å–ä¸æŸ¥çœ‹
- [x] Token API ç®¡ç†
- [x] è®¿é—®æ—¥å¿—è®°å½•
- [x] æ•°æ®ç»Ÿè®¡ä»ªè¡¨ç›˜
- [ ] é‚®ä»¶å‘é€åŠŸèƒ½
- [ ] é‚®ä»¶æœç´¢ä¼˜åŒ–
- [ ] é‚®ä»¶æ ‡ç­¾ç®¡ç†
- [ ] é‚®ä»¶è‰ç¨¿ç®±
- [ ] é‚®ä»¶æ¨¡æ¿
- [ ] æ·±è‰²æ¨¡å¼
- [ ] å›½é™…åŒ–æ”¯æŒ (i18n)
- [ ] Docker éƒ¨ç½²æ”¯æŒ
- [ ] é‚®ä»¶é™„ä»¶ç®¡ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºè®¸å¯è¯ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿æäº¤ [Issue](https://github.com/your-username/emailAdmin/issues)ã€‚

---

<p align="center">
  Made with â¤ï¸ by Email Admin Team
</p>
